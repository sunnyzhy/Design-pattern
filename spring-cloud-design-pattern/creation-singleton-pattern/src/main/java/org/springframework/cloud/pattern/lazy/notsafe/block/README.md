# 懒汉模式（线程不安全，同步代码块）

## 优点

在程序初始化时不会创建实例，只有在使用实例的时候才会创建，起到了懒加载的效果。

## 缺点

在多线程的情况下是不安全的，因为它不能保证实例唯一，有可能会出现多个实例的情况:

```java
1        if (singleton == null) {
2          synchronized (Singleton.class) {
3            singleton = new Singleton();
4          }
5        }
```

假设有两个线程都进入到 1 这个位置，因为没有任何资源保护措施，所以两个线程继续往下执行。如果线程 1 先抢到线程锁就会实例化一个对象，完成之后释放线程锁；然后线程 2 抢到线程锁也会实例化一个对象，此时就会出现多个实例的情况。
