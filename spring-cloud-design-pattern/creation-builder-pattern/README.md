# 建造者模式（Builder Pattern）

## 定义

建造者模式（Builder Pattern）指将一个复杂对象的构造与它的表示分离，使同样的构建过程可以创建不同的表示。即将一个复杂的对象分解为多个简单的对象，使用多个简单的对象一步一步构建成一个复杂的对象。它将变与不变相分离，即产品的组成部分是不变的，但每一部分是可以灵活选择的。

## 角色

- 产品角色（Product）：它是包含多个组成部件的复杂对象，由具体建造者来创建其各个部件。
- 抽象建造者（Builder）：它是一个包含创建产品各个子部件的抽象方法的接口，通常还包含一个返回复杂产品的方法。
- 具体建造者(Concrete Builder）：实现 Builder 接口，完成复杂产品的各个部件的具体创建方法。
- 指挥者（Director）：它调用建造者对象中的部件构造与装配方法完成复杂对象的创建，在指挥者中不涉及具体产品的信息。

### 类图

![建造者模式（Builder Pattern）](src/main/resources/static/diagram.png '建造者模式（Builder Pattern）')

### 示例

- 传统 Builder 模式
  ![建造者模式（Builder Pattern）](src/main/resources/static/demo/tradition/diagram-demo.png '建造者模式（Builder Pattern）')
- 当前 Builder 模式
   ![建造者模式（Builder Pattern）](src/main/resources/static/demo/current/diagram-demo.png '建造者模式（Builder Pattern）')

## 总结

建造者模式与工厂模式的区别：

1. 建造者模式仅仅只比工厂模式多了一个“指挥类”的角色。在建造者模式图中，假如把这个指挥类看做是最终调用的客户端，那么其余的部分就可以看作是一个简单的工厂模式了。
2. 与工厂模式相比，建造者模式一般用来创建更为复杂的对象，因为对象的创建过程更为复杂，因此将对象的创建过程独立出来组成一个新的类——指挥类。也就是说，工厂模式是将对象的全部创建过程封装在工厂类中，由工厂类向客户端提供最终的产品；而建造者模式中，建造者类一般只提供产品类中各个组件的建造，而将具体建造过程交付给导演类。由导演类负责将各个组件按照特定的规则组建为产品，然后将组建好的产品交付给客户端。
